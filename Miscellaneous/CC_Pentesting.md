# CC: Pentesting


## Nmap
- nmap: network mapper
- **All these are on the man page "man nmap"**
- Specify ports to scan with -p
- Do ping scan with -sn
- Do UDP scan -sU
- Run default scripts with -sC
- Enable aggressive mode with -A
- Enable OS detection with -O
- Enable version scanning -sV
- "sudo nmap -sS 10.10.139.90", 1 port open: 80
- "sudo nmap -A 10.10.139.90", Apache2 service running, version 2.4.18
- Should appear in the previous output because -A also uses -sC (default scripts), but to see it more clearly use "sudo nmap --script=http-title 10.10.139.90" to get the output: Apache2 Ubuntu Default Page: It works


## Netcat
- Netcat allows users to connect to specific ports and send and receive data, and is popularly used to gain a reverse shell
- **All of these are on the help page "nc --help"**
- Listen to connections with -l
- Enable verbose mode with -v
- Specify port with -p
- Specify a program to execure after you connect to a host -e
- Connect to udp ports with -u


## Gobuster
- Gobuster finds valid directories from a wordlist of possible directories, great for reconnaissance
- **Use "gobuster --help" and "gobuster [command] --help"**
- Use the "dir" command to specify directory/file brute forcing mode
- Use the "dns" command to use dns bruteforcing mode
- The -x flag sets extensions to be used. Found using "gobuster dir --help"
- -w to specify wordlist
- -U to set username for basic authentication
- -P to set password for basic authentication
- -s to set which status codes will be interpreted as valid
- -k to skip ssl certificate verification
- -a to specify a user agent
- -H to specify a http header
- -u to specify URL
- To find the hidden directory we use the 'common.txt' wordlist from dirb: "gobuster dir -w /usr/share/wordlists/dirb/common.txt -u http://10.10.4.159". We find that the hidden directory is '/secret'
>===============================================================
>Gobuster v3.0.1
>by OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)
>===============================================================
>[+] Url:            http://10.10.4.159
>[+] Threads:        10
>[+] Wordlist:       /usr/share/wordlists/dirb/common.txt
>[+] Status codes:   200,204,301,302,307,401,403
>[+] User Agent:     gobuster/3.0.1
>[+] Timeout:        10s
>===============================================================
>2021/11/24 22:52:04 Starting gobuster
>===============================================================
>/.hta (Status: 403)
>/.htaccess (Status: 403)
>/.htpasswd (Status: 403)
>/index.html (Status: 200)
>/secret (Status: 301)
>/server-status (Status: 403)
>===============================================================
>2021/11/24 22:52:05 Finished
>===============================================================

- To find the hidden file with the xxa extension we simply add "-x xx" to the last command. The only .xxa file that has a 200 response is password.xxa
>root@ip-10-10-130-53:~# gobuster dir -w /usr/share/wordlists/dirb/common.txt -u http://10.10.4.159 -x xxa
>===============================================================
>Gobuster v3.0.1
>by OJ Reeves (@TheColonial) & Christian Mehlmauer (@_FireFart_)
>===============================================================
>[+] Url:            http://10.10.4.159
>[+] Threads:        10
>[+] Wordlist:       /usr/share/wordlists/dirb/common.txt
>[+] Status codes:   200,204,301,302,307,401,403
>[+] User Agent:     gobuster/3.0.1
>[+] Extensions:     xxa
>[+] Timeout:        10s
>===============================================================
>2021/11/24 22:57:09 Starting gobuster
>===============================================================
>/.htpasswd (Status: 403)
>/.htpasswd.xxa (Status: 403)
>/.htaccess (Status: 403)
>/.htaccess.xxa (Status: 403)
>/.hta (Status: 403)
>/.hta.xxa (Status: 403)
>/index.html (Status: 200)
>/password.xxa (Status: 200)
>/secret (Status: 301)
>/server-status (Status: 403)
>===============================================================
>2021/11/24 22:57:10 Finished
>===============================================================


## Nikto
- Nikto scans a web server for known vulnerabilities. Used to check for common CVE's and get general information about the web server
- **Use "man nikto"**
- -h to specify URL or host
- -nossl to disable ssl
- -ssl to force ssl
- -id to specify authentication
- -plugins to select plugins. -list-plugins to list all plugins
- Use "nikto -list-plugins | grep apache" and we find the plugin "apacheusers"
- -update to update plugins and databases
- -list-plugins to list all plugins
